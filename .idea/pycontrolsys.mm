<map version="0.9.0">
<!-- To view this file, download free mind mapping software FreeMind from http://freemind.sourceforge.net -->
<node CREATED="1408314432330" ID="ID_1112996988" MODIFIED="1408320389904" TEXT="pycontrolsys">
<node CREATED="1408320396113" ID="ID_89231221" MODIFIED="1442253366969" POSITION="right" TEXT="Abstractions">
<node CREATED="1408314747608" ID="ID_309327410" MODIFIED="1442251181997" TEXT="Node">
<node CREATED="1442252773472" ID="ID_1157356965" MODIFIED="1442252779548" TEXT="attributes">
<node CREATED="1442252788633" ID="ID_761009121" MODIFIED="1442253831122" TEXT="id"/>
<node CREATED="1442253838572" ID="ID_547987087" MODIFIED="1442253853055" TEXT="node_type (derived from subclass)"/>
<node CREATED="1408323120550" ID="ID_1496907644" MODIFIED="1408323149594" TEXT="node_address (defined from node type and id)"/>
<node CREATED="1442254573146" ID="ID_568723998" MODIFIED="1442254622637" TEXT="system (reference to parent &apos;System&apos; object)"/>
</node>
<node CREATED="1442253028461" ID="ID_367741796" MODIFIED="1442253032564" TEXT="subclasses">
<node CREATED="1408314777748" ID="ID_1835137443" MODIFIED="1408314781967" TEXT="DeviceNode">
<node CREATED="1442253301745" ID="ID_241433293" MODIFIED="1442253305828" TEXT="attributes">
<node CREATED="1408314896060" ID="ID_1595330717" MODIFIED="1442253296046" TEXT="device_control_id (reference to a subclass of BaseDeviceControl)"/>
<node CREATED="1442254727561" ID="ID_1527129783" MODIFIED="1442254763872" TEXT="device_control_params (**kwargs to pass to &apos;DeviceControl&apos; object)"/>
<node CREATED="1442254690094" ID="ID_1574308117" MODIFIED="1442254721743" TEXT="device_control (instantiated DeviceControl object)"/>
</node>
</node>
<node CREATED="1442260091538" ID="ID_1328882306" MODIFIED="1442260139968" TEXT="NetworkedNode">
<node CREATED="1442260099684" ID="ID_315561447" MODIFIED="1442260102325" TEXT="attributes">
<node CREATED="1408314799539" ID="ID_1587393617" MODIFIED="1442260117370" TEXT="host_addresses"/>
</node>
<node CREATED="1442260160455" ID="ID_1781567118" MODIFIED="1442260164506" TEXT="subclasses">
<node CREATED="1408314445834" ID="ID_562018724" MODIFIED="1408314464554" TEXT="ControlNode">
<node CREATED="1442253081962" ID="ID_1018860005" MODIFIED="1442253086700" TEXT="attributes">
<node CREATED="1408314913968" ID="ID_1363002140" MODIFIED="1442253127527" TEXT="controlled_device_nodes (dict)"/>
</node>
</node>
<node CREATED="1408314718513" ID="ID_687863652" MODIFIED="1408314730212" TEXT="InterfaceNode"/>
</node>
</node>
</node>
</node>
<node CREATED="1408320440800" ID="ID_907810439" MODIFIED="1442254681482" TEXT="BaseDeviceControl">
<node CREATED="1408321355760" ID="ID_1735339224" MODIFIED="1442251699122" TEXT="attributes">
<node CREATED="1442253225548" ID="ID_91852876" MODIFIED="1442253238084" TEXT="id"/>
<node CREATED="1408321247885" ID="ID_1341918818" MODIFIED="1442250784862" TEXT="device category"/>
<node CREATED="1408320491301" ID="ID_249851826" MODIFIED="1408320506202" TEXT="manufacturer"/>
<node CREATED="1408320508118" ID="ID_1242635758" MODIFIED="1408320510304" TEXT="model"/>
<node CREATED="1408322576508" ID="ID_1045261832" MODIFIED="1408322639349" TEXT="outgoing_message_format_str (string formatting to apply to messages before sending)"/>
<node CREATED="1408321650653" ID="ID_1170814202" MODIFIED="1408321678085" TEXT="message_queue_required (bool)">
<node CREATED="1408321679184" ID="ID_177192497" MODIFIED="1408321755212" TEXT="True: each message sent must receive a reply before the next (used for poorly designed protocols where the response doesn&apos;t indicate what was requested)"/>
<node CREATED="1408321757278" ID="ID_1530348784" MODIFIED="1408321798466" TEXT="False: send each message at will.  responses have no dependance on what the previous message was"/>
</node>
<node CREATED="1442252529182" ID="ID_1712257165" MODIFIED="1442252580941" TEXT="rx_buffer (saves rx data from device until it&apos;s ready to be parsed)"/>
<node CREATED="1442252588546" ID="ID_261901836" MODIFIED="1442252707320" TEXT="message_queue (list or deque of messages waiting to be sent to device, len will be &lt;= 1 if &apos;message_queue_required&apos; == False)"/>
<node CREATED="1408320560972" ID="ID_782686607" MODIFIED="1408320576216" TEXT="message_type_definitions"/>
</node>
<node CREATED="1408322399954" ID="ID_398970589" MODIFIED="1442251692100" TEXT="methods">
<node CREATED="1408321598955" ID="ID_1251239934" MODIFIED="1408321620856" TEXT="is_alive (returns whether the connection is active)"/>
<node CREATED="1408322470972" ID="ID_520394531" MODIFIED="1408322520769" TEXT="send_message (base class should contain generic)"/>
<node CREATED="1408322531376" ID="ID_1243178895" MODIFIED="1442252523369" TEXT="on_data_recv (subclasses should return True if rx data contains a complete message, False if it needs to be stored in the rx_buffer)"/>
<node CREATED="1442252341371" ID="ID_1849123908" MODIFIED="1442252389397" TEXT="on_message (fired when a complete message is recieved from device, parsing should happen here)"/>
</node>
<node CREATED="1442251120485" ID="ID_304748501" MODIFIED="1442251125355" TEXT="subclasses">
<node CREATED="1408320593108" ID="ID_785226924" MODIFIED="1408320910532" TEXT="BaseDeviceControlSerial">
<node CREATED="1442251809955" ID="ID_336689449" MODIFIED="1442251814585" TEXT="attributes">
<node CREATED="1408320714954" ID="ID_1766791440" MODIFIED="1408320797884" TEXT="Protocol (RS-232, RS-422, RS-485)"/>
<node CREATED="1408320754364" ID="ID_262927698" MODIFIED="1408320774265" TEXT="Comm params (baud, parity, stop bit, etc)"/>
<node CREATED="1408320929623" ID="ID_37233014" MODIFIED="1408320952618" TEXT="Physical DeviceNode/Port"/>
</node>
</node>
<node CREATED="1408320959515" ID="ID_253971257" MODIFIED="1408320974434" TEXT="BaseDeviceControlIP">
<node CREATED="1408321355760" ID="ID_1262855747" MODIFIED="1442251776488" TEXT="attributes">
<node CREATED="1408321007169" ID="ID_928160256" MODIFIED="1442251279179" TEXT="host_address"/>
<node CREATED="1442251282160" ID="ID_136497180" MODIFIED="1442251358978" TEXT="host_port"/>
<node CREATED="1408321413950" ID="ID_1449291252" MODIFIED="1408321517728" TEXT="keep_alive (bool)">
<node CREATED="1408321518831" ID="ID_1866384979" MODIFIED="1408321549297" TEXT="True: maintains connection until device is determined inactive)"/>
<node CREATED="1408321552089" ID="ID_1505818999" MODIFIED="1408321595268" TEXT="False: send message then disconnect (not as useful for unsolicited response protocols)"/>
</node>
<node CREATED="1442250537941" ID="ID_649267256" MODIFIED="1442250566679" TEXT="IP Protocol (TCP, UDP)"/>
</node>
<node CREATED="1408322399954" ID="ID_1627739687" MODIFIED="1442251782163" TEXT="methods">
<node CREATED="1408321383064" ID="ID_1974539361" MODIFIED="1408321412091" TEXT="connect (base class should contain generic)"/>
<node CREATED="1408322446177" ID="ID_75969527" MODIFIED="1408322463236" TEXT="disconnect (base class should contain generic)"/>
</node>
</node>
</node>
</node>
<node CREATED="1442254301980" ID="ID_1304544311" MODIFIED="1442254306144" TEXT="System">
<node CREATED="1442254316880" ID="ID_1179690047" MODIFIED="1442254328689" TEXT="attributes">
<node CREATED="1442254329692" ID="ID_410649926" MODIFIED="1442254332853" TEXT="id"/>
<node CREATED="1442254333478" ID="ID_1971351630" MODIFIED="1442254334847" TEXT="name"/>
<node CREATED="1442254361134" ID="ID_227509714" MODIFIED="1442254389640" TEXT="auth?"/>
<node CREATED="1442254455192" ID="ID_852262144" MODIFIED="1442254464611" TEXT="nodes">
<node CREATED="1442254473387" ID="ID_1548205647" MODIFIED="1442254487466" TEXT="control_nodes"/>
<node CREATED="1442254488436" ID="ID_1508124436" MODIFIED="1442254492912" TEXT="interface_nodes"/>
</node>
</node>
</node>
</node>
<node CREATED="1408314485302" ID="ID_1872479984" MODIFIED="1442251184960" POSITION="right" TEXT="MessageBus">
<node CREATED="1408322866352" ID="ID_703547706" MODIFIED="1408322872083" TEXT="BaseMessage">
<node CREATED="1408322899911" ID="ID_969840529" MODIFIED="1408323231934" TEXT="sender"/>
<node CREATED="1408322947956" ID="ID_29648095" MODIFIED="1408322954725" TEXT="recipient"/>
<node CREATED="1408323244881" ID="ID_1806514693" MODIFIED="1408323262606" TEXT="timestamp (from sender)"/>
<node CREATED="1408314658577" ID="ID_591423648" MODIFIED="1408323800381" TEXT="ValueAddress (derived from node address / message_type_definition)"/>
<node CREATED="1442250946999" ID="ID_1320346108" MODIFIED="1442250955924" TEXT="subclasses">
<node CREATED="1408314534340" ID="ID_1975959749" MODIFIED="1408314561434" TEXT="PushMessage">
<node CREATED="1408314633423" ID="ID_3284634" MODIFIED="1408314643051" TEXT="PushDown"/>
<node CREATED="1408314643971" ID="ID_236356609" MODIFIED="1408314652632" TEXT="PushRelease"/>
</node>
<node CREATED="1408314562552" ID="ID_940114694" MODIFIED="1442250969604" TEXT="BaseValueMessage">
<node CREATED="1408314683242" ID="ID_317647588" MODIFIED="1408323692468" TEXT="ValueType (int, bool, string, list, etc)"/>
<node CREATED="1408314689893" ID="ID_1938327340" MODIFIED="1408314693480" TEXT="Value"/>
<node CREATED="1442250999173" ID="ID_866049895" MODIFIED="1442251003955" TEXT="subclasses">
<node CREATED="1408322741434" ID="ID_1664509433" MODIFIED="1408322754708" TEXT="ValueChangeMessage"/>
<node CREATED="1408322776593" ID="ID_1979788725" MODIFIED="1408322783436" TEXT="ValueRequestMessage"/>
<node CREATED="1408322785880" ID="ID_1961185824" MODIFIED="1408322793098" TEXT="ValueResponseMessage"/>
</node>
</node>
<node CREATED="1409328717648" ID="ID_1759304107" MODIFIED="1409328809614" TEXT="PingMessage (sent by ControlNodes to each other to maintain timestamp offsets and status updates)"/>
<node CREATED="1409328851114" ID="ID_1330524903" MODIFIED="1442250985061" TEXT="ControlNodeUpdateMessage">
<node CREATED="1409328896442" ID="ID_564650205" MODIFIED="1409329031942" TEXT="update_type">
<node CREATED="1409329032982" ID="ID_1126031089" MODIFIED="1409329039180" TEXT="add"/>
<node CREATED="1409329039661" ID="ID_1276924301" MODIFIED="1409329041530" TEXT="remove"/>
<node CREATED="1409329041904" ID="ID_1848363878" MODIFIED="1409329046944" TEXT="change"/>
</node>
<node CREATED="1409329021345" ID="ID_1827299976" MODIFIED="1409329060450" TEXT="updated_item_type">
<node CREATED="1409329110718" ID="ID_398229822" MODIFIED="1409329127341" TEXT="host_address"/>
<node CREATED="1409329127803" ID="ID_20334154" MODIFIED="1409329141950" TEXT="controlled_device_node"/>
</node>
<node CREATED="1409329002357" ID="ID_584044260" MODIFIED="1409329076127" TEXT="updated_item_data"/>
</node>
</node>
</node>
<node CREATED="1408322961273" ID="ID_1758215336" MODIFIED="1408322992056" TEXT="BaseMessageCarrier">
<node CREATED="1408323018435" ID="ID_1819459069" MODIFIED="1408323030542" TEXT="node_type">
<node CREATED="1408323037724" ID="ID_1254335354" MODIFIED="1408323043697" TEXT="control_node"/>
<node CREATED="1408323044985" ID="ID_631210674" MODIFIED="1408323050789" TEXT="interface_node"/>
<node CREATED="1408323051118" ID="ID_1300975225" MODIFIED="1408323054320" TEXT="device_node"/>
</node>
<node CREATED="1408323059029" ID="ID_976047749" MODIFIED="1408323166127" TEXT="node_address"/>
<node CREATED="1408323106199" ID="ID_308017261" MODIFIED="1408323109044" TEXT="node"/>
<node CREATED="1442251059947" ID="ID_1528602363" MODIFIED="1442251064333" TEXT="subclasses">
<node CREATED="1408322994029" ID="ID_1283189176" MODIFIED="1408323001270" TEXT="MessageSender"/>
<node CREATED="1408323003564" ID="ID_932869171" MODIFIED="1408323010860" TEXT="MessageRecipient"/>
</node>
</node>
</node>
</node>
</map>
